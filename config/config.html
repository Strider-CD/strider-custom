<h2>
  Custom Scripts
  <button ng-click="save()" class="btn btn-primary pull-right">Save</button>
</h2>

<p class="help-text">
  The following scripts execute from inside your project directory.
  In Bash, Powershell, or the POSIX shell, you can use `pwd` or `$PWD` to get the path within your script.
  In the default Windows shell, you can get the current directory by using `cd` with no arguments.
</p>
<h3>Shell</h3>
<div class="row-fluid">
  <div class="span12">
    <p class="help-text">
      Choose which shell to use to execute your scripts.
    </p>
  </div>
</div>
<div class="row-fluid">
  <div class="span6">
    <select ng-model="config.shell" ng-options="value for value in ['Default Shell', 'Bash', 'Powershell']"></select>
  </div>
</div>
<h3>Environment</h3>
<div class="row-fluid">
  <div class="span12">
    <p class="help-text">
      Environment commands should only be for installing
      versions of languages and such things that need to come even before the
      prepare stage.
    </p>
  </div>
</div>
<div class="row-fluid">
  <div class="span12">
    <textarea ui-refresh="selectedTab" ui-codemirror="{theme: 'twilight', mode: 'shell', lineNumbers: true}" ng-model="config.environment"># put your shell code here</textarea>
  </div>
</div>
<br/>
<h3>Prepare</h3>
<div class="row-fluid">
  <div class="span12">
    <p class="help-text">
      These commands are run after the repo is cloned but before the
      tests. Installing dependencies is a good example.
    </p>
  </div>
</div>
<div class="row-fluid">
  <div class="span12">
    <textarea ui-refresh="selectedTab" ui-codemirror="{theme: 'twilight', mode: 'shell', lineNumbers: true}" ng-model="config.prepare"># put your shell code here</textarea>
  </div>
</div>
<br/>
<h3>Test</h3>
<div class="row-fluid">
  <div class="span12">
    <p class="help-text">
      Note that if the tests fail, deploy doesn't happen.
    </p>
  </div>
</div>
<div class="row-fluid">
  <div class="span12">
    <textarea ui-refresh="selectedTab" ui-codemirror="{theme: 'twilight', mode: 'shell', lineNumbers: true}" ng-model="config.test"># put your shell code here</textarea>
  </div>
</div>
<br/>
<h3>Deploy</h3>
<div class="row-fluid">
  <div class="span12">
    <p class="help-text">
      Deploy commands are run when you manually trigger a redeploy, or
      when "deploy_on_green" is on and the job was triggered by a
      commit, followed by a successful test run.
      Deploy commands are not run when tests fail.
    </p>
  </div>
</div>
<div class="row-fluid">
  <div class="span12">
    <textarea ui-refresh="selectedTab" ui-codemirror="{theme: 'twilight', mode: 'shell', lineNumbers: true}" ng-model="config.deploy"># put your shell code here</textarea>
  </div>
</div>
<br/>
<h3>Cleanup</h3>
<div class="row-fluid">
  <div class="span12">
    <p class="help-text">
      Cleanup always runs.
    </p>
  </div>
</div>
<div class="row-fluid cleanup">
  <div class="span12">
    <textarea ui-refresh="selectedTab" ui-codemirror="{theme: 'twilight', mode: 'shell', lineNumbers: true}" ng-model="config.cleanup"># put your shell code here</textarea>
  </div>
</div>
<button ng-click="save()" class="btn btn-primary">Save</button>
